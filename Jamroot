# Distributed under the Boost Software License, Version 1.0.
# See accompanying file LICENSE_1_0.txt or copy at http://www.boost.org/LICENSE_1_0.txt

import fhs ;
import testing ;

lib boost_thread : : $(LIB_SEARCH) ;
lib boost_program_options : : $(LIB_SEARCH) ;
lib boost_filesystem : : $(LIB_SEARCH) ;
lib boost_regex : : $(LIB_SEARCH) ;
lib boost_iostreams : : $(LIB_SEARCH) ;
lib boost_date_time : : $(LIB_SEARCH) ;
lib boost_system : : $(LIB_SEARCH) ;
lib boost_log : : $(LIB_SEARCH) ;
lib boost_test_exec_monitor : : $(LIB_SEARCH) ;

project libenum : requirements
  <library>boost_thread
  <library>boost_program_options
  <library>boost_filesystem
  <library>boost_regex
  <library>boost_iostreams
  <library>boost_date_time
  <library>boost_system
  <library>boost_test_exec_monitor
  <include>include/
  
  $(INCLUDES)
  <tag>@$(__name__).tag
  <address-model>32:<instruction-set>i686

  <threading>multi
  : default-build debug ;

unit-test test_c98 : test/test_c98.cpp ;
unit-test test_c0x : test/test_c0x.cpp : <cflags>--std=c++0x ;

alias build : test_c98 test_c0x ;

fhs.install install libenum
                    :
                    :
                    : [ path.glob-tree include/ : *.* : ]
                    : <install-source-root>./include/
                      <target-address-models>32
                      <target-address-models>64 ;
